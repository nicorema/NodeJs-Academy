<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Asynchronous JavaScript</title>
  </head>
  <body>
    <h1>Asynchronous JavaScript</h1>
    <script>
      //function getRecipe() {
      // setTimeout(() => {
      //   const recipeID = [523, 883, 432, 974];
      //   console.log(recipeID);

      //   setTimeout(
      //     id => {
      //       const recipe = { title: 'Fresh tomato pasta', publisher: 'Nico' };
      //       console.log(`${id}: ${recipe.title}`);

      //       setTimeout(
      //         publisher => {
      //           const recipe2 = { title: 'Pizza', publisher: 'Nico' };
      //           console.log(`${id}: ${recipe2.title}`);
      //         },
      //         1500,
      //         recipe.publisher
      //       );
      //     },
      //     1000,
      //     recipeID[2]
      //   );
      // }, 1500);
      //}
      // getRecipe();

      //   const getIds = new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       resolve([523, 883, 432, 974]);
      //     }, 1500);
      //   });

      //   const getRecipe = recipeId => {
      //     return new Promise((resolve, reject) => {
      //       setTimeout(
      //         id => {
      //           resolve({ id, title: 'Fresh tomato pasta', publisher: 'Nico' });
      //         },
      //         1500,
      //         recipeId
      //       );
      //     });
      //   };

      //   const getRelated = publisher => {
      //     return new Promise((resolve, reject) => {
      //       setTimeout(
      //         publisher => {
      //           resolve({ title: 'Pizza', publisher: 'Nico' });
      //         },
      //         1500,
      //         publisher
      //       );
      //     });
      //   };

      //   getIds
      //     .then(data => {
      //       console.log(data);
      //       return getRecipe(data[2]);
      //     })
      //     .then(recipe => {
      //       console.log(recipe);
      //       return getRelated(recipe.publisher);
      //     })
      //     .then(related => {
      //       console.log(related);
      //     })
      //     .catch(err => console.log('err'));

      //   async function getRecipes() {
      //     try {
      //       const ids = await getIds;
      //       console.log(ids);
      //       const recipe = await getRecipe(ids[2]);
      //       console.log(recipe);
      //       const related = await getRelated(recipe.publisher);
      //       console.log(related);
      //     } catch (err) {
      //       console.log(err);
      //     }
      //   }

      //   getRecipes();

    //   fetch(
    //     'https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/2487956/'
    //   )
    //     .then(results => {
    //       return results.json();
    //     })
    //     .then(data => {
    //       const today = data.consolidated_weather[0];
    //       console.log(today);
    //     })
    //     .catch(err => console.log(err));

    //   async function getWeather() {
    //     const result = await fetch(
    //       'https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/2487956/'
    //     );
    //     const data2 = await result.json();
    //     const today2 = data2.consolidated_weather[0];
    //     console.log(today2);
    //   }
    //   getWeather();
    </script>
  </body>
</html>
